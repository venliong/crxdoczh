// Copyright (c) 2012 The Chromium Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

[
  {
    "namespace": "sessionRestore",
    "types": [
      {
        "id": "ClosedEntry",
        "type": "object",
        "properties": {
//@          "id": {"type": "integer", "minimum": 0, "description": "The ID of the browser session."},
          "id": {"type": "integer", "minimum": 0, "description": "浏览器会话的标识符。"},
//@          "timestamp": {"type": "integer", "description": "The time when the window or tab was closed, represented in milliseconds since the epoch"},
          "timestamp": {"type": "integer", "description": "窗口或标签页关闭的时间，表示为 1970 年 1 月 1 日以来经过的毫秒数。"},
//@          "tab": {"$ref": "tabs.Tab", "optional": true, "description": "The closed $ref:tabs.Tab, if this entry describes a tab. Either this or $ref:ClosedEntry.window will be set."},
          "tab": {"$ref": "tabs.Tab", "optional": true, "description": "如果该项目描述标签页的话则为关闭的 $ref:tabs.Tab。该属性或 $ref:ClosedEntry.window 中的某一个将会设置。"},
//@          "window": {"$ref": "windows.Window", "optional": true, "description": "The closed $ref:windows.Window, if this entry describes a window. Either this or $ref:ClosedEntry.tab will be set."}
          "window": {"$ref": "windows.Window", "optional": true, "description": "如果该项目描述窗口的话则为关闭的 $ref:windows.Window。该属性或 $ref:ClosedEntry.tab 中的某一个将会设置。"}
        }
      }
    ],
    "functions": [
      {
        "name": "getRecentlyClosed",
        "type": "function",
//@        "description": "Gets the list of recently closed tabs and/or windows.",
        "description": "获取最近关闭的标签页和/或窗口的列表。",
        "parameters": [
          {
            "type": "object",
            "name": "options",
            "optional": true, 
            "properties": {
              "maxResults": {
                "type": "integer",
                "minimum": 0,
                "maximum": 25,
                "optional": true,
//@                "description": "The maximum number of entries to be fetched in the requested list. Omit to fetch the maximum number of entries (25)."
                "description": "在请求的列表中要获取的项目的最大数目，省略的话则获取尽可能多的项目（25）。"
              },
              "entryType": {
                "type": "string",
                "enum": ["tab", "window"],
                "optional": true,
//@                "description": "The type of entry to fetch. Omit to fetch all types of entries."
                "description": "要获取的项目类型，省略的话则获取所有类型的项目。"
              }
            }
          },
          {
            "type": "function",
            "name": "callback",
            "parameters": [
              {
//@                "name": "entries", "type": "array", "items": { "$ref": "ClosedEntry" }, "description": "The list of closed entries in reverse order that they were closed (the most recently closed tab or window will be at index <code>0</code>). If <code>entryType</code> is specified the entries will be only of that type, otherwise the entries may contain either tabs or windows.List of $ref:ClosedEntry representing the closed tab/window for the session."
                "name": "entries", "type": "array", "items": { "$ref": "ClosedEntry" }, "description": "已关闭的项目列表，按照与关闭相反的顺序排列（最后关闭的标签页或窗口的索引为 0）。如果指定了 <code>entryType</code>，则返回的项目只包含这一种类型，否则可能会包含标签页或窗口。$ref:ClosedEntry 列表表示该会话中关闭的标签页或窗口。"
              }
            ]
          }
        ]
      },
      {
        "name": "restore",
        "type": "function",
//@        "description": "Reopens a $ref:ClosedEntry, with an optional callback to run when the entry has been restored.",
        "description": "重新打开某个 $ref:ClosedEntry（关闭的项目），可以传递一个可选的回调函数，当项目恢复时调用。",
        "parameters": [
//@          {"type": "integer", "name": "id", "optional": true, "description": "The id of the $ref:ClosedEntry to restore."},
          {"type": "integer", "name": "id", "optional": true, "description": "要恢复的 $ref:ClosedEntry 的标识符。"},
          {"type": "function", "name": "callback", "optional": true, "parameters": []}
        ]
      }
    ]
  }
]
